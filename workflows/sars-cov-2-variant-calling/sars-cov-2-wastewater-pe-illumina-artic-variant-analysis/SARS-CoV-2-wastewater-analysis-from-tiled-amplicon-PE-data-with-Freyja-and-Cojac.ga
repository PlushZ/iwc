{"a_galaxy_workflow": "true", "annotation": "A workflow for SARS-CoV-2 lineage analysis from tiled-amplicon paired-end sequencing data of wastewater samples", "creator": [{"class": "Person", "identifier": "0000-0002-0507-4602", "name": "Polina Polunina"}, {"class": "Person", "identifier": "0000-0001-9852-1987", "name": "B\u00e9r\u00e9nice Batut"}, {"class": "Person", "identifier": "0000-0002-9464-6640", "name": "Wolfgang Maier"}], "format-version": "0.1", "license": "MIT", "release": "0.1", "name": "SARS-CoV-2 wastewater analysis from tiled-amplicon PE data with Freyja and Cojac", "steps": {"0": {"annotation": "VCF file containing SARS-CoV-2 variant calls", "content_id": null, "errors": null, "id": 0, "input_connections": {}, "inputs": [{"description": "VCF file containing SARS-CoV-2 variant calls", "name": "VCF"}], "label": "VCF", "name": "Input dataset collection", "outputs": [], "position": {"left": 6.793618534038615, "top": 0.0}, "tool_id": null, "tool_state": "{\"optional\": false, \"format\": [\"vcf\"], \"tag\": null, \"collection_type\": \"list\"}", "tool_version": null, "type": "data_collection_input", "uuid": "be2ab7bf-00c2-401f-84c5-6e03b3457104", "when": null, "workflow_outputs": []}, "1": {"annotation": "Fully processed reads for variant calling (primer-trimmed, realigned reads with added indelquals)", "content_id": null, "errors": null, "id": 1, "input_connections": {}, "inputs": [{"description": "Fully processed reads for variant calling (primer-trimmed, realigned reads with added indelquals)", "name": "BAM collection of aligned and preprocessed reads"}], "label": "BAM collection of aligned and preprocessed reads", "name": "Input dataset collection", "outputs": [], "position": {"left": 0.0, "top": 126.75323181039266}, "tool_id": null, "tool_state": "{\"optional\": false, \"format\": [\"bam\"], \"tag\": null, \"collection_type\": \"list\"}", "tool_version": null, "type": "data_collection_input", "uuid": "f023cdf9-8880-451e-9f5b-cf77b865ee27", "when": null, "workflow_outputs": []}, "2": {"annotation": "BED dataset providing the positions of the amplicons on the reference sequence. Cojac: mutbamscan expects coordinates excluding the primer sequences!", "content_id": null, "errors": null, "id": 2, "input_connections": {}, "inputs": [{"description": "BED dataset providing the positions of the amplicons on the reference sequence. Cojac: mutbamscan expects coordinates excluding the primer sequences!", "name": "Amplicon definitions formatted for Cojac"}], "label": "Amplicon definitions formatted for Cojac", "name": "Input dataset", "outputs": [], "position": {"left": 0.25591131299484005, "top": 407.8749603252671}, "tool_id": null, "tool_state": "{\"optional\": false, \"format\": [\"bed\"], \"tag\": \"\"}", "tool_version": null, "type": "data_input", "uuid": "9015053c-2aae-4afe-8573-c0eacaffe31e", "when": null, "workflow_outputs": []}, "3": {"annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/samtools_depth/samtools_depth/1.15.1+galaxy0", "errors": null, "id": 3, "input_connections": {"input_bams": {"id": 1, "output_name": "output"}}, "inputs": [], "label": null, "name": "Samtools depth", "outputs": [{"name": "output", "type": "tabular"}], "position": {"left": 475.14776037276533, "top": 125.67012905295724}, "post_job_actions": {}, "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/samtools_depth/samtools_depth/1.15.1+galaxy0", "tool_shed_repository": {"changeset_revision": "56faa6a57e50", "name": "samtools_depth", "owner": "iuc", "tool_shed": "toolshed.g2.bx.psu.edu"}, "tool_state": "{\"additional_options\": {\"required_flags\": null, \"skipped_flags\": [\"4\", \"256\", \"512\", \"1024\"], \"deletions\": false, \"single_read\": false}, \"all\": \"\", \"basequality\": null, \"cond_region\": {\"select_region\": \"no\", \"__current_case__\": 0}, \"input_bams\": {\"__class__\": \"ConnectedValue\"}, \"mapquality\": null, \"maxdepth\": null, \"minlength\": null, \"output_options\": {\"header\": false}, \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "1.15.1+galaxy0", "type": "tool", "uuid": "ebda63f3-e291-44a9-a79b-9c5aa212d4ee", "when": null, "workflow_outputs": [{"label": "Samtools depth on input dataset(s)", "output_name": "output", "uuid": "dce385dc-1289-42fb-acf2-80ca443b2f40"}]}, "4": {"annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/cooc_mutbamscan/cooc_mutbamscan/0.2+galaxy0", "errors": null, "id": 4, "input_connections": {"bam_file": {"id": 1, "output_name": "output"}, "bed_file": {"id": 2, "output_name": "output"}}, "inputs": [], "label": null, "name": "Cojac: mutbamscan", "outputs": [{"name": "cooc_yaml", "type": "yaml"}, {"name": "amplicons", "type": "yaml"}], "position": {"left": 388.64977589103364, "top": 399.35615838670367}, "post_job_actions": {}, "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/cooc_mutbamscan/cooc_mutbamscan/0.2+galaxy0", "tool_shed_repository": {"changeset_revision": "373c1735d31f", "name": "cooc_mutbamscan", "owner": "iuc", "tool_shed": "toolshed.g2.bx.psu.edu"}, "tool_state": "{\"amplicons_file\": {\"choice\": \"build\", \"__current_case__\": 0}, \"bam_file\": {\"__class__\": \"ConnectedValue\"}, \"bed_file\": {\"__class__\": \"ConnectedValue\"}, \"cooc\": \"2\", \"output_files\": [\"yaml\"], \"vocdir_option\": {\"choice\": \"cache\", \"__current_case__\": 0}, \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "0.2+galaxy0", "type": "tool", "uuid": "336be8a0-1d6c-4ba6-92eb-0c4240b7bf4c", "when": null, "workflow_outputs": [{"label": "Cojac: mutbamscan on input dataset(s): Mutation cooccurrence (yaml)", "output_name": "cooc_yaml", "uuid": "dd3090d5-d027-4ab9-9979-49f9cdd42518"}, {"label": "Cojac: mutbamscan on input dataset(s): Amplicons (yaml)", "output_name": "amplicons", "uuid": "dfc9b610-92f3-4a3d-a369-68a931682cca"}]}, "5": {"annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/freyja_demix/freyja_demix/1.3.8+galaxy0", "errors": null, "id": 5, "input_connections": {"depth_file": {"id": 3, "output_name": "output"}, "variants_in": {"id": 0, "output_name": "output"}}, "inputs": [{"description": "runtime parameter for tool Freyja: Demix", "name": "meta"}], "label": null, "name": "Freyja: Demix", "outputs": [{"name": "abundances", "type": "tabular"}], "position": {"left": 833.0468293717931, "top": 60.20280470818875}, "post_job_actions": {}, "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/freyja_demix/freyja_demix/1.3.8+galaxy0", "tool_shed_repository": {"changeset_revision": "fc6252e78d5b", "name": "freyja_demix", "owner": "iuc", "tool_shed": "toolshed.g2.bx.psu.edu"}, "tool_state": "{\"confirmedonly\": false, \"depth_cutoff\": \"10\", \"depth_file\": {\"__class__\": \"ConnectedValue\"}, \"eps\": null, \"meta\": {\"__class__\": \"RuntimeValue\"}, \"sample_name\": {\"source\": \"auto\", \"__current_case__\": 0}, \"usher_update_option\": {\"choice\": \"repo\", \"__current_case__\": 0}, \"variants_in\": {\"__class__\": \"ConnectedValue\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "1.3.8+galaxy0", "type": "tool", "uuid": "ec1ae9de-77bf-4475-afea-c390dac18ef6", "when": null, "workflow_outputs": [{"label": "Freyja: Demix on input dataset(s): Lineages abundances summary", "output_name": "abundances", "uuid": "b2b4a13d-422f-4557-b21e-028fca787301"}]}, "6": {"annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/nml/collapse_collections/collapse_dataset/5.1.0", "errors": null, "id": 6, "input_connections": {"input_list": {"id": 4, "output_name": "cooc_yaml"}}, "inputs": [], "label": null, "name": "Collapse Collection", "outputs": [{"name": "output", "type": "input"}], "position": {"left": 699.7154809370268, "top": 499.03453757398904}, "post_job_actions": {}, "tool_id": "toolshed.g2.bx.psu.edu/repos/nml/collapse_collections/collapse_dataset/5.1.0", "tool_shed_repository": {"changeset_revision": "90981f86000f", "name": "collapse_collections", "owner": "nml", "tool_shed": "toolshed.g2.bx.psu.edu"}, "tool_state": "{\"filename\": {\"add_name\": false, \"__current_case__\": 1}, \"input_list\": {\"__class__\": \"ConnectedValue\"}, \"one_header\": false, \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "5.1.0", "type": "tool", "uuid": "4fca581f-98fc-4d13-9074-34f389568e6c", "when": null, "workflow_outputs": [{"label": "Collapsed multiple Cojac outputs", "output_name": "output", "uuid": "12a5f25f-40e2-48a3-9708-c65bcb1f456c"}]}, "7": {"annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/freyja_aggregate_plot/freyja_aggregate_plot/1.3.8+galaxy0", "errors": null, "id": 7, "input_connections": {"need_aggregation|demix_file": {"id": 5, "output_name": "abundances"}}, "inputs": [], "label": null, "name": "Freyja: Aggregate and visualize", "outputs": [{"name": "aggregated", "type": "tabular"}, {"name": "abundances_plot", "type": "pdf"}], "position": {"left": 1125.4148585076741, "top": 69.71015690469653}, "post_job_actions": {}, "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/freyja_aggregate_plot/freyja_aggregate_plot/1.3.8+galaxy0", "tool_shed_repository": {"changeset_revision": "0ceb9fb0f4ce", "name": "freyja_aggregate_plot", "owner": "iuc", "tool_shed": "toolshed.g2.bx.psu.edu"}, "tool_state": "{\"need_aggregation\": {\"choice\": \"yes\", \"__current_case__\": 0, \"demix_file\": {\"__class__\": \"ConnectedValue\"}}, \"plot_format\": {\"choice\": \"plot\", \"__current_case__\": 0, \"need_metadata\": {\"choice\": \"no\", \"__current_case__\": 1}}, \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "1.3.8+galaxy0", "type": "tool", "uuid": "a9502780-4d28-4440-9acb-837a35aa1758", "when": null, "workflow_outputs": [{"label": "Freyja: Aggregate and visualize on input dataset(s): Lineages abundances plot", "output_name": "abundances_plot", "uuid": "3e15daec-03c4-42b9-b58f-24dc8ac72616"}, {"label": "Freyja: Aggregate and visualize on input dataset(s): Aggregated data", "output_name": "aggregated", "uuid": "82d7322d-f594-4292-82d9-8bb64949836a"}]}, "8": {"annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/cooc_tabmut/cooc_tabmut/0.2+galaxy0", "errors": null, "id": 8, "input_connections": {"cooc_file": {"id": 6, "output_name": "output"}}, "inputs": [], "label": null, "name": "Cojac: tabmut", "outputs": [{"name": "table", "type": "csv"}], "position": {"left": 1015.4443008193848, "top": 479.8159600053326}, "post_job_actions": {}, "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/cooc_tabmut/cooc_tabmut/0.2+galaxy0", "tool_shed_repository": {"changeset_revision": "4be399803856", "name": "cooc_tabmut", "owner": "iuc", "tool_shed": "toolshed.g2.bx.psu.edu"}, "tool_state": "{\"cooc_file\": {\"__class__\": \"ConnectedValue\"}, \"table_orientation\": {\"choice\": \"columns\", \"__current_case__\": 0}, \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "0.2+galaxy0", "type": "tool", "uuid": "1700f8d2-dfac-48a6-8502-b48bfdb1dc1a", "when": null, "workflow_outputs": [{"label": "Cojac: tabmut on input dataset(s): Mutation cooccurrence (CSV table)", "output_name": "table", "uuid": "02373e3d-0ac8-4713-8e4f-1e72ed5f89cd"}]}}, "tags": [], "uuid": "7f05e145-00e2-4147-b3f6-e790af34faa5", "version": 9}